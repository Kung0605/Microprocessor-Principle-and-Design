#-----------------------------------------------------------
# Vivado v2023.2 (64-bit)
# SW Build 4029153 on Fri Oct 13 20:13:54 MDT 2023
# IP Build 4028589 on Sat Oct 14 00:45:43 MDT 2023
# SharedData Build 4025554 on Tue Oct 10 17:18:54 MDT 2023
# Start of session at: Mon Sep 30 12:54:58 2024
# Process ID: 1421
# Current directory: /home/kungtacheng/mpd/lab1/aquila_build
# Command line: vivado -mode batch -source build.tcl
# Log file: /home/kungtacheng/mpd/lab1/aquila_build/vivado.log
# Journal file: /home/kungtacheng/mpd/lab1/aquila_build/vivado.jou
# Running On: LAPTOP-16OE0O8T, OS: Linux, CPU Frequency: 2419.199 MHz, CPU Physical cores: 4, Host memory: 12544 MB
#-----------------------------------------------------------
source build.tcl
# set ver [version -short]
# scan $ver %d.%d vmajor vminor
# if { $vmajor > 2020 } {
#     set gen_srcs gen
# } else {
#     set gen_srcs srcs
# }
# set origin_dir "."
# set proj_name "aquila_mpd"
# create_project ${proj_name} ${origin_dir}/${proj_name} -part xc7a100tcsg324-1
create_project: Time (s): cpu = 00:00:10 ; elapsed = 00:00:11 . Memory (MB): peak = 1270.641 ; gain = 36.836 ; free physical = 9952 ; free virtual = 14104
# set obj [current_project]
# set_property -name "default_lib" -value "xil_defaultlib" -objects $obj
# set_property -name "enable_resource_estimation" -value "0" -objects $obj
# set_property -name "sim.ip.auto_export_scripts" -value "1" -objects $obj
# set_property -name "simulator_language" -value "Mixed" -objects $obj
# set_property -name "xpm_libraries" -value "XPM_CDC XPM_MEMORY" -objects $obj
# if {[string equal [get_filesets -quiet sources_1] ""]} {
#   create_fileset -srcset sources_1
# }
# set common_files [list \
#  [file normalize "$origin_dir/src/core_rtl/alu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/aquila_config.vh" ]\
#  [file normalize "$origin_dir/src/core_rtl/aquila_top.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/atomic_unit.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/bcu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/bpu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/clint.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/core_top.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/csr_file.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/decode.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/distri_ram.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/execute.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/fetch.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/forwarding_unit.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/memory.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/muldiv.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/pipeline_control.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/program_counter.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/reg_file.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/sram_dp.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/writeback.v" ]\
#  [file normalize "$origin_dir/src/soc_rtl/uart.v" ]\
#  [file normalize "$origin_dir/src/mem/uartboot.mem" ]\
# ]
# set synth_files [list \
#  [file normalize "$origin_dir/src/soc_rtl/soc_top.v" ]\
# ]
# set imported_files [import_files -fileset sources_1 $synth_files $common_files ]
# set_property verilog_define ARTY=true [get_filesets sources_1]
# set obj [get_filesets sources_1]
# set_property -name "top" -value "soc_top" -objects $obj
# set files "*.mem"
# set file_obj [get_files -of_objects [get_filesets sources_1] [list "$files"]]
# set_property -name "file_type" -value "Memory File" -objects $file_obj
# if {[string equal [get_filesets -quiet constrs_1] ""]} {
#   create_fileset -constrset constrs_1
# }
# set files [list \
#   [file normalize "$origin_dir/src/xdc/arty.xdc"]\
# ]
# set imported_files [import_files -fileset constrs_1 $files]
# set files "*.xdc"
# set file_objs [get_files -of_objects [get_filesets constrs_1] [list "$files"]]
# set_property -name "file_type" -value "XDC" -objects $file_objs
# if {[string equal [get_filesets -quiet sim_1] ""]} {
#   create_fileset -srcset sim_1
# }
# set sim_files [list \
#  [file normalize "$origin_dir/src/soc_rtl/soc_tb.v" ]\
# ]
# set imported_files [import_files -fileset sim_1 $sim_files]
# set_property verilog_define ARTY=true [get_filesets sim_1]
# set obj [get_filesets sim_1]
# set_property -name "top" -value "soc_tb" -objects $obj
# set_property -name "top_lib" -value "xil_defaultlib" -objects $obj
# create_ip -name clk_wiz -vendor xilinx.com -library ip -module_name clk_wiz_0
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository '/vivado/Vivado/2023.2/data/ip'.
INFO: [Device 21-403] Loading part xc7a100tcsg324-1
create_ip: Time (s): cpu = 00:00:05 ; elapsed = 00:00:07 . Memory (MB): peak = 1712.645 ; gain = 442.004 ; free physical = 9453 ; free virtual = 13683
# set_property -dict [list \
#     CONFIG.PRIM_IN_FREQ {100.000} \
#     CONFIG.CLKOUT1_REQUESTED_OUT_FREQ {50.00000} \
#     CONFIG.CLKOUT2_USED {false} \
#     CONFIG.USE_RESET {false} \
#     CONFIG.USE_LOCKED {false}] [get_ips clk_wiz_0]
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/clk_wiz_0/clk_wiz_0.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Implementation' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'clk_wiz_0'...
# puts "INFO: Project created:${proj_name}"
INFO: Project created:aquila_mpd
INFO: [Common 17-206] Exiting Vivado at Mon Sep 30 12:55:27 2024...
